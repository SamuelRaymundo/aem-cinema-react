/* ui.frontend/src/components/MovieDisplay/MovieDisplay.css */

/* --- Overall MovieDisplay Card (Base Styles for all cards, including detail page) --- */
.cmp-movie-card {
    /* Main container properties */
    background-color: #2F2F2F; /* Dark background for the entire card (now also for list items) */
    border-radius: 12px; /* Rounded corners for the entire card */
    overflow: hidden; /* Ensures content respects border-radius */
    box-shadow: 0 8px 20px rgba(0, 0, 0, 0.4); /* Stronger shadow */
    font-family: 'Segoe UI', Arial, sans-serif; /* Modern font */
    color: white; /* Default text color for the dark section */
    display: flex;
    flex-direction: column; /* Default for single cards (carousel/standalone) */
    transition: transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out; /* Smooth transitions */
}

/* Specific styles for cards in a list/carousel (when NOT a detail page) */
.cmp-movie-card:not(.cmp-movie-card--detail-page):not(.cmp-movie-list .cmp-movie-card) {
    width: 250px; /* Fixed width for standalone/carousel items, explicitly exclude list items */
    margin-bottom: 25px; /* Spacing between cards if in a list */
    cursor: pointer; /* Indicate it's clickable */
}

.cmp-movie-card:not(.cmp-movie-card--detail-page):not(.cmp-movie-list .cmp-movie-card):hover {
    transform: translateY(-5px); /* Lift effect on hover */
    box-shadow: 0 12px 25px rgba(0, 0, 0, 0.6); /* More intense shadow on hover */
}


/* --- Poster Section (Base Styles) --- */
.cmp-movie__poster-section {
    position: relative;
    width: 100%;
    border-top-left-radius: inherit;
    border-top-right-radius: inherit;
    overflow: hidden;
}

.cmp-movie__poster {
    display: block;
    width: 100%;
    height: auto;
    object-fit: cover;
}

/* --- Age Group Overlay (Base Style) --- */
.cmp-movie__age-group-overlay {
    position: absolute;
    bottom: 15px;
    right: 15px;
    color: white;
    padding: 5px 10px;
    border-radius: 5px;
    font-size: 1.1em;
    font-weight: bold;
    text-align: center;
    width: 35px;
    height: 35px;
    display: flex;
    align-items: center;
    justify-content: center;
    box-shadow: 1px 1px 3px rgba(0,0,0,0.3);
    margin: 0;
    z-index: 1;
}

/* --- Dynamic Age Group Colors --- */
.cmp-movie__age-group-overlay--green { background-color: #4CAF50; }
.cmp-movie__age-group-overlay--blue { background-color: #2196F3; }
.cmp-movie__age-group-overlay--yellow { background-color: #FFEB3B; color: #333; } /* Darker text */
.cmp-movie__age-group-overlay--orange { background-color: #FF9800; }
.cmp-movie__age-group-overlay--red { background-color: #F44336; }
.cmp-movie__age-group-overlay--black { background-color: #333; }


/* --- Details Section (Base Styles) --- */
.cmp-movie__details-section {
    padding: 15px 15px 20px 15px;
    /* Background and specific padding handled by context (detail/list) */
    border-bottom-left-radius: 12px;
    border-bottom-right-radius: 12px;
    display: flex;
    flex-direction: column;
    justify-content: space-between;
    flex-grow: 1;
    position: relative;
    min-height: 80px;
    text-align: left;
}

.cmp-movie__title {
    color: white;
    font-size: 1.3em;
    font-weight: 600;
    margin: 0 0 8px 0;
    line-height: 1.3;
}

.cmp-movie__meta-info {
    display: flex;
    align-items: center;
    font-size: 0.9em;
    color: #bbb;
    margin-bottom: 0;
}

.cmp-movie__gender,
.cmp-movie__time {
    margin: 0;
    display: inline-block;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}

.cmp-movie__meta-separator {
    margin: 0 5px;
    color: #888;
}

/* --- Placeholder for Editor --- */
.cmp-movie__placeholder {
    color: #999;
    text-align: center;
    padding: 20px;
    border: 1px dashed #ccc;
    border-radius: 4px;
    background-color: #f0f0f0;
    min-height: 150px;
    display: flex;
    align-items: center;
    justify-content: center;
    width: 100%;
    max-width: 500px;
    margin: 20px auto;
}

.cmp-movie__placeholder p {
    margin: 0;
}

/* ========================================================================= */
/* --- STYLES FOR THE MOVIE DETAIL PAGE (`isDetailPage`) --- */
/* ========================================================================= */

.cmp-movie-card--detail-page {
    width: auto;
    max-width: 1000px;
    margin: 40px auto;
    flex-direction: row;
    align-items: flex-start;
    padding: 30px;
    gap: 40px;
    border-radius: 12px;
    background-color: #2F2F2F;
}

.cmp-movie-card--detail-page .cmp-movie__poster-section {
    flex-shrink: 0;
    width: 350px;
    height: auto;
}

.cmp-movie-card--detail-page .cmp-movie__poster {
    border-radius: 8px;
}

.cmp-movie-card--detail-page .cmp-movie__details-section {
    background-color: transparent;
    padding: 0;
    min-height: auto;
    text-align: left;
}

.cmp-movie-card--detail-page .cmp-movie__title {
    font-size: 3.2em;
    margin-bottom: 15px;
    line-height: 1.1;
    color: #e0e0e0;
}

.cmp-movie-card--detail-page .cmp-movie__meta-info {
    font-size: 1.1em;
    margin-bottom: 25px;
    color: #c0c0c0;
}

.cmp-movie-card--detail-page .cmp-movie__sinopse {
    font-size: 1.15em;
    line-height: 1.7;
    color: #ddd;
    margin-top: 20px;
    text-align: justify;
}


/* ========================================================================= */
/* --- NEW & MODIFIED STYLES FOR THE MOVIE LIST PAGE (`isMovieListPage`) --- */
/* ========================================================================= */

.cmp-movie-list-container {
    padding: 20px;
    max-width: 1200px;
    margin: 0 auto;
}

.cmp-movie-list-container h1 {
    color: white;
    margin-bottom: 30px;
    font-size: 2.5em;
    text-align: center;
}

.cmp-movie-list {
    display: flex;
    flex-direction: column; /* Stack movie cards vertically */
    gap: 30px; /* Space between each movie card */
}

/* Style for individual movie cards within the list */
.cmp-movie-list .cmp-movie-card {
    /* Use Grid to organize the internal sections */
    display: grid;
    grid-template-columns: 220px 1fr; /* INCREASED POSTER WIDTH, remaining for details */
    grid-template-rows: auto auto 1fr; /* Title row, Meta row, Sinopse row */
    grid-template-areas:
        "poster title"
        "poster meta"
        "poster sinopse"; /* Define areas for easier placement */
    gap: 20px 30px; /* Vertical gap between rows, horizontal gap between poster and text */

    background-color: #2F2F2F; /* Dark background for the whole card */
    padding: 25px; /* Padding inside the card */
    border-radius: 12px;
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
    cursor: pointer;
    width: 100%; /* Take full width of its container */
    max-width: none;
    align-items: flex-start; /* Align grid items to the start */
}

.cmp-movie-list .cmp-movie-card:hover {
    transform: translateY(-3px);
    box-shadow: 0 6px 20px rgba(0, 0, 0, 0.4);
}

.cmp-movie-list .cmp-movie__poster-section {
    grid-area: poster; /* Assign to poster area */
    width: 100%; /* Take full width of its grid cell */
    height: auto;
    border-radius: 8px;
    overflow: hidden;
    /* Ensure age group overlay maintains correct position relative to poster */
    position: relative;
    flex-shrink: 0; /* Important to prevent it from shrinking within its grid cell */
}

.cmp-movie-list .cmp-movie__poster {
    border-radius: 8px; /* Apply to the image itself */
}

/* Adjust age group overlay for the list card */
.cmp-movie-list .cmp-movie__age-group-overlay {
    bottom: 10px; /* Adjust as needed */
    right: 10px; /* Adjust as needed */
}


.cmp-movie-list .cmp-movie__title {
    grid-area: title; /* Assign to title area */
    font-size: 2.2em; /* Slightly larger title for list items */
    margin: 0; /* Reset margins from base style */
    display: flex; /* Allow flex for title and age group badge */
    align-items: center;
    gap: 15px; /* Space between title and age group badge */
    line-height: 1.2;
}

/* Age group badge next to title on list page */
.cmp-movie-list .cmp-movie__title .cmp-movie__age-group-badge {
    padding: 5px 12px;
    border-radius: 5px;
    font-size: 0.8em; /* Smaller font size for inline badge */
    font-weight: bold;
    color: white;
    background-color: rgba(0,0,0,0.5); /* A default for safety, overridden by dynamic colors */
    flex-shrink: 0; /* Prevent it from shrinking */
}
/* Ensure dynamic colors apply to the inline badge */
.cmp-movie-list .cmp-movie__title .cmp-movie__age-group-badge.cmp-movie__age-group-overlay--green { background-color: #4CAF50; }
.cmp-movie-list .cmp-movie__title .cmp-movie__age-group-badge.cmp-movie__age-group-overlay--blue { background-color: #2196F3; }
.cmp-movie-list .cmp-movie__title .cmp-movie__age-group-badge.cmp-movie__age-group-overlay--yellow { background-color: #FFEB3B; color: #333; }
.cmp-movie-list .cmp-movie__title .cmp-movie__age-group-badge.cmp-movie__age-group-overlay--orange { background-color: #FF9800; }
.cmp-movie-list .cmp-movie__title .cmp-movie__age-group-badge.cmp-movie__age-group-overlay--red { background-color: #F44336; }
.cmp-movie-list .cmp-movie__title .cmp-movie__age-group-badge.cmp-movie__age-group-overlay--black { background-color: #333; }


.cmp-movie-list .cmp-movie__meta-info {
    grid-area: meta; /* Assign to meta area */
    font-size: 1.1em; /* Slightly larger meta info */
    color: #bbb;
    margin-bottom: 0; /* No bottom margin, grid handles spacing */
    flex-direction: column; /* Stack gender/time if on separate lines */
    align-items: flex-start; /* Align text left */
}
/* Ensure elements within meta info are display: block for stacking if needed */
.cmp-movie-list .cmp-movie__meta-info .cmp-movie__gender,
.cmp-movie-list .cmp-movie__meta-info .cmp-movie__time {
    margin-bottom: 5px; /* Space between gender and time */
}
.cmp-movie-list .cmp-movie__meta-info .cmp-movie__meta-separator {
    display: none; /* Hide separator if gender and time are on separate lines */
}


/* Style for the sinopse within list items */
.cmp-movie-list .cmp-movie__sinopse {
    grid-area: sinopse; /* Assign to sinopse area */
    font-size: 1.05em; /* Standard text size */
    line-height: 1.6;
    color: #ccc; /* Lighter text color */
    margin: 0; /* Reset margins from base style, grid handles spacing */
    text-align: left;
    max-height: none; /* Remove max-height for full sinopse display in this layout */
    overflow: visible; /* Allow full sinopse to show */
    text-overflow: clip; /* Remove ellipsis for full sinopse */
    display: block; /* Ensure it's not flex/box-orient limited */
    background-color: transparent; /* Ensure no background color here */
}

/* Ensure images within sinopse are styled correctly for both detail and list */
.cmp-movie__sinopse img {
    max-width: 100%;
    height: auto;
    display: block;
    margin: 10px 0;
    border-radius: 5px;
}

/* Responsive adjustments for list page */
@media (max-width: 768px) {
    .cmp-movie-list .cmp-movie-card {
        grid-template-columns: 1fr; /* Stack all content vertically */
        grid-template-rows: auto auto auto auto; /* Poster, Title, Meta, Sinopse */
        grid-template-areas:
            "poster"
            "title"
            "meta"
            "sinopse";
        padding: 15px;
        gap: 15px;
        text-align: center; /* Center text when stacked */
    }

    .cmp-movie-list .cmp-movie__poster-section {
        width: 60%; /* Adjust poster width when stacked */
        max-width: 200px; /* Max width for stacked posters */
        margin: 0 auto; /* Center the poster */
    }

    .cmp-movie-list .cmp-movie__title {
        font-size: 1.8em;
        justify-content: center; /* Center title and badge */
    }

    .cmp-movie-list .cmp-movie__meta-info {
        justify-content: center; /* Center meta info when stacked */
        align-items: center;
    }
    .cmp-movie-list .cmp-movie__meta-info .cmp-movie__meta-separator {
        display: inline-block; /* Re-enable separator if gender and time on same line */
    }

    .cmp-movie-list .cmp-movie__sinopse {
        max-height: none; /* Show full sinopse again */
        -webkit-line-clamp: unset; /* Remove line clamp */
        text-align: center; /* Center sinopse for stacked layout */
    }
}

@media (max-width: 500px) {
    .cmp-movie-list-container h1 {
        font-size: 2em;
    }

    .cmp-movie-list .cmp-movie__poster-section {
        width: 80%;
    }

    .cmp-movie-list .cmp-movie__title {
        font-size: 1.5em;
    }
}